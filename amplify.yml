version: 1
frontend:
  phases:
    preBuild:
      commands:
        - python3.9 -m pip install --upgrade pip
        - python3.9 -m pip install -r requirements.txt -t ./lib
    build:
      commands:
        - echo "Build started"
    postBuild:
      commands:
        - echo "Build completed"
        - gunicorn wsgi:application
  artifacts:
    baseDirectory: /
    files:
      - application.py
      - lib/**/*
  cache:
    paths:
      - './lib/**/*'
