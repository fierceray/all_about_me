version: 1
frontend:
  phases:
    preBuild:
      commands:
        - python3.9 -m pip install --upgrade pip
        - python3.9 -m pip install -r requirements.txt
        - ls ./lib/gunicorn
        - ls ./
        - find . -name gunicorn
    build:
      commands:
        - echo "Build started"
    postBuild:
      commands:
        - echo "Build completed"
        - flask --app application run
  artifacts:
    baseDirectory: /
    files:
      - application.py
      - wsgi.py
      - lib/**/*
      - static/**/*
      - templates/**/*
      - gunicorn.sh
      - venv/**/*
  cache:
    paths:
      - './lib/**/*'
