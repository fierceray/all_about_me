version: 1
frontend:
  phases:
    preBuild:
      commands:
        - python3.9 -m pip install --upgrade pip
        - python3.9 -m pip install -r requirements.txt -t ./lib
    build:
      commands:
        - echo "Build started"
    postBuild:
      commands:
        - echo "Build completed"
        - gunicorn wsgi:application -b 0.0.0.0:8000
        - echo "run application"
  artifacts:
    baseDirectory: /
    files:
      - application.py
      - wsgi.py
      - lib/**/*
      - static/**/*
      - templates/**/*
  cache:
    paths:
      - './lib/**/*'
