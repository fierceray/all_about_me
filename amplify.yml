version: 1
frontend:
  phases:
    preBuild:
      commands:
        - python3.9 -m pip install --upgrade pip
        - python3.9 -m pip install -r requirements.txt -t ./lib
        - ls ./lib/gunicorn
        - ls ./
    build:
      commands:
        - echo "Build started"
    postBuild:
      commands:
        - echo "Build completed"
        - chmod +x gunicorn.sh
        - ./gunicorn.sh
  artifacts:
    baseDirectory: /
    files:
      - application.py
      - wsgi.py
      - lib/**/*
      - static/**/*
      - templates/**/*
      - gunicorn.sh
  cache:
    paths:
      - './lib/**/*'
